# 假如有几十个请求，如何去控制并发？


思考：本身浏览器socket层是实现了并发的，那个并发和这里并发是一个东西吗？浏览器实现了并发，为啥还要前端是实现？这不多此一举吗？

【目的】
这道题的目的是解决：如何减轻”后端接口接不住“的问题

【about 浏览器】
浏览器对于接口发送是并发的，可以想象成窗口滑动，一个窗口里面的接口发完，进入下一个窗口，她不会考虑你前面发送的窗口中的接口是否已经返回内容。也就是浏览器所考虑的是我如何最高效率地使用、共享socket，同时也不让我的性能拉胯。

【解决方案】
关于如何减轻”后端接口接不住“的问题，一般有以下方式：
（1）减少一次性接口发送数量  --  这个浏览器已做，不是前端主要关注的范畴
（2）接口分批发送，等待上一批接口返回结果，延迟发送下一批接口 -- 交警机制
（3）接口优先级策略，高优的接口先发，低优的接口不着急发  -- 裁判机制
     静态优先级机制
     用户自定义接口优先级
     系统自定义接口优先级
     系统级别高优接口（如用户信息），必须接口要返回
     
     动态优先级机制
      如果同一个接口，历史调用返回贼慢，可以被认定为慢接口，优先级适当调低，反之快接口可以优先级适当调高
      超时接口，优先级降低

（4）配合路由、管理配置接口，
     当某个路由的接口还没有发送时，路由已切换，则该接口已然失效，无需发送。
     当某个路由的接口还没有已发送（接口未返回），返回后的浏览器无需处理的（告诉浏览器，改接口不用管）     

     

