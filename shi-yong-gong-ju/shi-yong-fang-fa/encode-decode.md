# 加解密代码隐蔽策略
  一般在js代码中我们引用第三方库编写加密、解密的方法，而这两个function是明文的，其中可能还包含密钥，有可能存在代码泄露的风险，所以我们需要对加密、解密代码进行隐蔽，防止代码泄露。
  
  加解密代码隐蔽策略是一种在软件开发过程中，通过代码混淆、加密等技术手段，使得加解密代码难以被分析和理解，从而提高软件安全性的策略。
  我们可以将加密、解密代码进行混淆，这样即使代码泄露，别人也看不懂，从而提高了安全性。

  加解密代码隐蔽策略主要包括以下几种：

* 代码混淆：
  通过修改代码的结构、变量名、函数名等，使得代码难以被阅读和理解。
  优点：提高代码的安全性，降低被攻击的风险。
  缺点：需要专业的代码混淆工具，且可能影响代码的可维护性。
  参考工具：
  1. js-obfuscator工具 （https://obfuscator.io/#code）  
  2. 当然也自己定义一套规则进行将加解密的function进行转化，比如随机替换字符、变量名、函数名等，然后通过正则表达式进行替换，这样别人即使看到代码，也看不懂。


* 代码加密：
  将加解密代码进行加密，运行时再进行解密，从而隐藏加解密逻辑。
  优点：提高代码的安全性，降低被攻击的风险。
  缺点：需要额外的解密过程，可能影响运行效率。

* 使用WebAssembly：
  将加解密逻辑实现为WebAssembly模块，运行在浏览器中，从而隐藏JavaScript代码。
  优点：提高代码的安全性，降低被攻击的风险。
  缺点：需要学习WebAssembly，且可能影响运行效率。

* 使用JavaScript模板引擎：
  使用JavaScript模板引擎，如Handlebars、Mustache等，将加解密逻辑嵌入到模板中，从而隐藏JavaScript代码。
  优点：提高代码的安全性，降低被攻击的风险。
  缺点：需要学习模板引擎，且可能影响运行效率。

* 使用JavaScript压缩工具：
  使用JavaScript压缩工具，如Terser、UglifyJS等，对JavaScript代码进行压缩，从而隐藏代码逻辑。
  优点：提高代码的安全性，降低被攻击的风险。
  缺点：需要专业的压缩工具，且可能影响代码的可读性。

* 使用沙箱环境：
  沙箱环境是一种隔离的环境，它可以将代码限制在特定的范围内，防止代码访问敏感数据和资源。
  例如，可以使用Web Worker或Service Worker来创建沙箱环境，将加密和解密的代码放在沙箱环境中执行。

* 使用第三方库
  使用第三方库，如CryptoJS、AES.js等，可以简化加密和解密的代码，并且这些库通常已经过测试和验证，具有较高的安全性。

* 使用Web Crypto API
  Web Crypto API是浏览器提供的一种加密和解密的API，它提供了强大的加密功能，并且可以在浏览器中本地执行，不会暴露加密和解密的代码。

* 定期更新和审计
  定期更新和审计加密和解密的代码，可以及时发现和修复安全漏洞，提高代码的安全性。