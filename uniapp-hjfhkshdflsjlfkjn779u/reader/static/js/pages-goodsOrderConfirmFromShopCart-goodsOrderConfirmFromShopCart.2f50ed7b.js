(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goodsOrderConfirmFromShopCart-goodsOrderConfirmFromShopCart"],{"0ed2":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"goods-order-confirm"},[i("v-uni-navigator",{staticClass:"goods-reciver-address btn",attrs:{url:"../receiverAddressManage/receiverAddressManage"}},[t.selectedAddress?i("v-uni-view",[t.list.length<=0?i("v-uni-view",[t._v("去添加新的地址")]):i("v-uni-view",[i("receiver-address",{attrs:{address:t.selectedAddress.province+t.selectedAddress.city+t.selectedAddress.district+t.selectedAddress.address,receiver:t.selectedAddress.name,tel:t.selectedAddress.tel}},[i("v-uni-text",{staticClass:"icon iconfont icon-right color-light-dark"},[t._v("")])],1)],1)],1):t.defaultAddress?i("v-uni-view",[i("receiver-address",{attrs:{address:t.defaultAddress.province+t.defaultAddress.city+t.defaultAddress.district+t.defaultAddress.address,receiver:t.defaultAddress.name,tel:t.defaultAddress.tel}},[i("v-uni-text",{staticClass:"icon iconfont icon-right color-light-dark"},[t._v("")])],1)],1):i("v-uni-view",{staticClass:"text-center"},[t._v("去添加新的地址")])],1),i("v-uni-view",{staticClass:"goods border-line"},t._l(t.confirmOrderListFromShopCart,function(e){return i("v-uni-view",{staticClass:"goods-item color-light-dark flex-box row align-center"},[i("v-uni-image",{staticClass:"image-goods",attrs:{src:e.cover_image}}),i("v-uni-view",{staticClass:"flex-1"},[i("v-uni-view",{staticClass:"flex-box row flex-between align-center"},[i("v-uni-text",{staticClass:"max-two-lines title flex-1"},[t._v(t._s(e.goods_name))]),i("v-uni-view",{staticClass:"text-right"},[i("v-uni-text",{staticClass:"price"},[t._v("¥"+t._s(e.price))]),i("br"),i("v-uni-text",{staticClass:"color-light-dark"},[t._v("×"+t._s(e.num))])],1)],1),i("v-uni-view",{staticClass:"text-right total-price"},[t._v("合计："),i("v-uni-text",{staticClass:"color-theme total"},[t._v("¥"+t._s(e.num*e.price))])],1)],1)],1)}),1),i("v-uni-view",{staticClass:"confirm-order"},[i("v-uni-view",{staticClass:"text-right total-line"},[t._v("共"+t._s(t.totalNumber)+"件商品  小计："),i("v-uni-text",{staticClass:"total color-theme"},[t._v("¥"+t._s(t.totalPrice))])],1),i("v-uni-view",{staticClass:"flex-box row align-center input-line"},[i("v-uni-input",{staticClass:"flex-1",attrs:{type:"password",placeholder:"请输入提现密码"},model:{value:t.deal_pwd,callback:function(e){t.deal_pwd=e},expression:"deal_pwd"}}),i("v-uni-button",{staticClass:"btn btn-confirm",on:{click:function(e){e=t.$handleEvent(e),t.confirm(e)}}},[t._v("确认购买")])],1)],1)],1)},s=[];i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s})},3442:function(t,e,i){"use strict";var r=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(i("cebc")),a=r(i("79c7")),n=r(i("6b13")),d=i("2f62"),o={components:{receiverAddress:a.default},computed:(0,s.default)({},(0,d.mapState)({confirmOrderListFromShopCart:function(t){return t.shop.confirmOrderListFromShopCart},selectedAddress:function(t){return t.shop.selectedAddress}}),{totalNumber:function(){var t=0;return this.confirmOrderListFromShopCart.map(function(e){e.checked&&(t+=e.num)}),t},totalPrice:function(){var t=0;return this.confirmOrderListFromShopCart.map(function(e){e.checked&&(t+=e.num*e.price)}),t},defaultAddress:function(){if(this.list.length>0){console.log("-----------");var t=this.list.filter(function(t){return 1==t.default});return t.length>0?t[0]:this.list[0]}return null}}),data:function(){return{list:[],deal_pwd:"111111"}},methods:{getAddressList:function(){var t=this;n.default.getMyAddressList({}).then(function(e){1===e.ret&&(t.list=e.obj.arrAddress)})},confirm:function(){var t=[],e=null;if(console.log("address_id",e),this.selectedAddress)e=this.selectedAddress.id;else{if(0==this.list.length)return;e=this.defaultAddress.id}console.log("address_id",e),null!=e?(this.confirmOrderListFromShopCart.map(function(e){t.push({goods_id:e.id,num:e.number,price:e.price})}),n.default.buyGoods({arr_goods:t,deal_pwd:this.deal_pwd,address_id:e}).then(function(t){1===t.ret&&uni.showToast({title:"购买成功！",icon:"success"})})):uni.showToast({title:"请选择收货地址"})}},onLoad:function(){this.getAddressList()}};e.default=o},"38a5":function(t,e,i){"use strict";i.r(e);var r=i("0ed2"),s=i("64ca");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("f899");var n=i("2877"),d=Object(n["a"])(s["default"],r["a"],r["b"],!1,null,"4d120a52",null);e["default"]=d.exports},4389:function(t,e,i){"use strict";i.r(e);var r=i("8ec2"),s=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);e["default"]=s.a},"64ca":function(t,e,i){"use strict";i.r(e);var r=i("3442"),s=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);e["default"]=s.a},"79c7":function(t,e,i){"use strict";i.r(e);var r=i("8c7a"),s=i("4389");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("81ad");var n=i("2877"),d=Object(n["a"])(s["default"],r["a"],r["b"],!1,null,"d2a24448",null);e["default"]=d.exports},8062:function(t,e,i){var r=i("a6e9");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=i("4f06").default;s("12df738b",r,!0,{sourceMap:!1,shadowMode:!1})},"81ad":function(t,e,i){"use strict";var r=i("8062"),s=i.n(r);s.a},"8c7a":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"reciver-address"},[i("v-uni-view",{staticClass:"flex-box row flex-between",on:{click:function(e){e=t.$handleEvent(e),t.handlerClick(e)}}},[i("v-uni-text",[t._v("收款人："+t._s(t.receiver))]),i("v-uni-text",{staticClass:"color-light-dark"},[t._v(t._s(t.tel))])],1),i("v-uni-view",{staticClass:"flex-box row flex-between address align-center"},[i("v-uni-text",{on:{click:function(e){e=t.$handleEvent(e),t.handlerClick(e)}}},[t._v("收货地址："+t._s(t.address))]),t._t("default")],2)],1)},s=[];i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s})},"8ec2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={props:{receiver:{default:"",type:String},tel:{default:"",type:String},address:{default:"",type:String}},methods:{handlerClick:function(){this.$emit("click")}}};e.default=r},a6e9:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".address[data-v-d2a24448]{margin-top:%?20?%}",""])},af84:function(t,e,i){var r=i("b1bf");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=i("4f06").default;s("8f741222",r,!0,{sourceMap:!1,shadowMode:!1})},b1bf:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".goods-reciver-address[data-v-4d120a52]{padding:%?32?%}.icon-right[data-v-4d120a52]{margin-left:%?20?%}.image-goods[data-v-4d120a52]{max-width:%?140?%;min-width:%?140?%;height:%?140?%}.border-line[data-v-4d120a52]{border-top:%?20?% solid #f1f1f1}.price[data-v-4d120a52]{\n\t/* font-size: 34upx; */line-height:%?68?%;margin-left:%?8?%}.total[data-v-4d120a52]{font-size:%?34?%;line-height:%?68?%;margin-top:%?8?%}.title[data-v-4d120a52]{font-size:%?26?%;margin-left:%?32?%}.goods-item[data-v-4d120a52]{border-bottom:1px solid #f1f1f1;padding:%?32?%}.confirm-order[data-v-4d120a52]{background:#fff;position:fixed;bottom:0;left:0;right:0;height:%?200?%;padding:0 %?32?%;border-top:1px solid #f1f1f1}.total-line[data-v-4d120a52]{height:%?80?%;line-height:%?80?%}.input-line[data-v-4d120a52]{height:%?100?%}.input-line uni-input[data-v-4d120a52]{background:#f1f1f1;border-radius:%?40?% 0 0 %?40?%;height:%?80?%;line-height:%?80?%;padding-left:%?30?%}.input-line[data-v-4d120a52] .input-placeholder{line-height:%?80?%!important;height:%?80?%!important}.btn-confirm[data-v-4d120a52]{height:%?80?%;background:#1296db;color:#fff;border-radius:0 %?40?% %?40?% 0;line-height:%?80?%;font-size:%?32?%}.goods-order-confirm[data-v-4d120a52]{height:100%;padding-bottom:%?200?%}",""])},f899:function(t,e,i){"use strict";var r=i("af84"),s=i.n(r);s.a}}]);